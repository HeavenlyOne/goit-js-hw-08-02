{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst KEY_FORM = \"feedback-form-state\";\nconst formType = document.querySelector(\".feedback-form\");\n\nformType.addEventListener('input', throttle(onInput, 500));\n// formType.addEventListener('input', onInput);\n\nformType.addEventListener('submit', onSubmit);\nlet forms = {\n        email: '',\n        message: '',\n    };\n\nconst parsed = JSON.parse(localStorage.getItem(KEY_FORM))\n\nforms.email = (parsed && parsed.email ) ?? \"\";\nforms.message = (parsed && parsed.message) ?? '';\n\nformType.elements.email.value = (parsed && parsed.email ) ?? '';\nformType.elements.message.value = (parsed && parsed.message) ?? '';\n\n    \n\nfunction onInput(event) {\n\n    if (event.target.nodeName === 'INPUT') {\n        forms.email = event.target.value.trim();\n    }\n    if (event.target.nodeName === 'TEXTAREA') {\n        forms.message = event.target.value.trim();\n    }\n    localStorage.setItem(KEY_FORM, JSON.stringify(forms));\n   \n}\n\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    if (!forms.email || !forms.message) {\n        alert('Fill please all fields');\n    } else {\n        console.log(forms);\n        localStorage.removeItem(KEY_FORM);\n        forms.email = '';\n        forms.message = ''; \n        this.reset();\n    }\n}"],"names":["KEY_FORM","formType","throttle","onInput","onSubmit","forms","parsed","event"],"mappings":"oFAEA,MAAMA,EAAW,sBACXC,EAAW,SAAS,cAAc,gBAAgB,EAExDA,EAAS,iBAAiB,QAASC,EAASC,EAAS,GAAG,CAAC,EAGzDF,EAAS,iBAAiB,SAAUG,CAAQ,EAC5C,IAAIC,EAAQ,CACJ,MAAO,GACP,QAAS,EACjB,EAEA,MAAMC,EAAS,KAAK,MAAM,aAAa,QAAQN,CAAQ,CAAC,EAExDK,EAAM,OAASC,GAAUA,EAAO,QAAW,GAC3CD,EAAM,SAAWC,GAAUA,EAAO,UAAY,GAE9CL,EAAS,SAAS,MAAM,OAASK,GAAUA,EAAO,QAAW,GAC7DL,EAAS,SAAS,QAAQ,OAASK,GAAUA,EAAO,UAAY,GAIhE,SAASH,EAAQI,EAAO,CAEhBA,EAAM,OAAO,WAAa,UAC1BF,EAAM,MAAQE,EAAM,OAAO,MAAM,KAAI,GAErCA,EAAM,OAAO,WAAa,aAC1BF,EAAM,QAAUE,EAAM,OAAO,MAAM,KAAI,GAE3C,aAAa,QAAQP,EAAU,KAAK,UAAUK,CAAK,CAAC,CAExD,CAGA,SAASD,EAASG,EAAO,CACrBA,EAAM,eAAc,EAChB,CAACF,EAAM,OAAS,CAACA,EAAM,QACvB,MAAM,wBAAwB,GAE9B,QAAQ,IAAIA,CAAK,EACjB,aAAa,WAAWL,CAAQ,EAChCK,EAAM,MAAQ,GACdA,EAAM,QAAU,GAChB,KAAK,MAAK,EAElB"}